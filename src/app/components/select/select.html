<div class="select-wrapper">
  @if (label) {
    <label class="select-label">
      {{ label }}
      @if (required) {
        <span class="required">*</span>
      }
    </label>
  }

  <div class="select-container">
    <select
      [formControl]="selected"
      [required]="required"
      class="custom-select"
      [class.error]="selected.hasError('required') && selected.touched"
    >
      <option value="" disabled selected>{{ placeholder }}</option>
      @for (option of options; track option.value) {
        <option [value]="option.value" [disabled]="option.disabled || false">
          {{ option.label }}
        </option>
      }
    </select>

    <div class="arrow-icon">
      <span class="chevron"></span>
    </div>
  </div>

  @if (selected.hasError('required') && selected.touched) {
    <span class="error-message">
      <i class="ph ph-warning-circle"></i>
      {{ errorMessage || 'Este campo é obrigatório' }}
    </span>
  }
</div>
